# BMAD Workflow: Vallarta Voyage Living Sunset Engine

## Overview
This workflow follows the BMAD (Business Model → Architecture → Design) methodology for autonomous agent-driven development, enhanced with DARA (Deployment + Audit + Refactor + Motion-First Automation) principles.

**Project**: Vallarta Voyage Explorer → Living Sunset Engine of Vallarta
**Stack**: Vite + React + TanStack + Hono + Prisma + PostgreSQL
**Deployment**: Railway (backend + DB) + Vercel (frontend CDN)
**Timeline**: 10-14 days (single developer + AI assistance)

---

## Phase 0: Discover & Audit ✅

**Status**: COMPLETED (Dec 7, 2025)

**Deliverables**:
- [x] PRD.md created
- [x] design_audit.yaml with comprehensive UIUX review (15 issues, P0-P2)
- [x] LANDING-PAGE-BLUEPRINT.md for scorecard quiz system
- [x] workflow.yaml (this file)
- [x] Stack detection: Vite + React + Tailwind + shadcn/ui
- [x] Current routes: /, /auth, /* (NotFound)
- [x] Backend: Python FastAPI (to be replaced with Node/Hono)
- [x] Database: Currently Notion API (to be replaced with Postgres)

**Audit Scores** (0-10):
- Usability: 7/10
- Clarity: 6/10
- Consistency: 8/10
- Accessibility: 7/10
- Performance: 7/10
- Content: 5/10
- Visual Design: 6/10
- Motion Quality: 4/10
- Deployment Readiness: 6/10

**Critical Findings**:
1. No sunset phase awareness (static hero)
2. No lead-gen infrastructure (quiz, upload, contests)
3. No directory backend (hardcoded tour data)
4. Minimal motion (only fade-up animations)
5. Generic visual identity (looks like 1,000 Tailwind sites)

**Next Action**: Await human approval of audit + PRD before proceeding to Phase 1.

---

## Phase 1: Architecture & Backend Scaffold

**Goal**: Build the data layer, API, and sunset phase engine.

**Estimated Time**: 3-4 days

### Tasks

#### 1.1 Backend Setup
- [ ] Create `/backend-node` directory (separate from existing Python backend)
- [ ] Initialize Node project: `npm init -y`
- [ ] Install deps: `hono`, `@hono/node-server`, `prisma`, `@prisma/client`, `dotenv`, `zod`
- [ ] Create `src/index.ts` with basic Hono server
- [ ] Add health check endpoint: `GET /health`
- [ ] Configure CORS for Vite dev server (localhost:8080)

#### 1.2 Database Schema (Prisma)
- [ ] Initialize Prisma: `npx prisma init`
- [ ] Create schema in `prisma/schema.prisma` (see PRD.md for full schema):
  - User, SunsetPhoto, Contest, ContestEntry
  - Business, BusinessFeature
  - QuizSubmission, LandingPageBlueprint
- [ ] Connect to Railway Postgres (provision free tier)
- [ ] Run migration: `npx prisma migrate dev --name init`
- [ ] Generate Prisma Client: `npx prisma generate`

#### 1.3 Sunset Phase API
- [ ] Install `suncalc` package for sunset calculations
- [ ] Create `/api/sunset-phase` endpoint:
  ```typescript
  // Returns: { phase: "day" | "golden" | "night", sunsetTime: ISO string, nextPhaseIn: minutes }
  ```
- [ ] Puerto Vallarta coordinates: 20.6534°N, 105.2253°W
- [ ] Phase logic:
  - Day: > 90 min before sunset
  - Golden: ±90 min around sunset
  - Night: > 90 min after sunset
- [ ] Cache result for 5 minutes (reduce API calls)

#### 1.4 Business Directory API
- [ ] Create CRUD endpoints:
  - `GET /api/businesses` (with filters: type, luxuryScore, phase-relevance)
  - `GET /api/businesses/:slug`
  - `POST /api/businesses` (admin only, can defer auth to Phase 3)
- [ ] Seed database with 10-15 sample businesses (hotels, bars, restaurants)
- [ ] Include phase-relevance scoring (rooftop bars score higher during golden hour)

#### 1.5 Photo Upload API (Prep)
- [ ] Create `POST /api/sunset-photos` endpoint
- [ ] File upload handling (use `@hono/zod-validator` + `multer` or `formidable`)
- [ ] Store files in Cloudinary or Railway volume (TBD based on cost)
- [ ] Mark all uploads as `approved: false` initially

#### 1.6 Quiz API
- [ ] Create `POST /api/quiz-submissions` endpoint
- [ ] Accept 15-question answers as JSON
- [ ] Calculate segment based on answers (see LANDING-PAGE-BLUEPRINT.md logic)
- [ ] Return: `submissionId`, `recommendedSegment`, `topRecommendations` (3 businesses)

#### 1.7 Railway Deployment (Backend)
- [ ] Create `railway.json` or use Railway CLI
- [ ] Deploy backend as separate service
- [ ] Provision Postgres database
- [ ] Set environment variables: `DATABASE_URL`, `CORS_ORIGIN`
- [ ] Test health check: `https://vallarta-backend.railway.app/health`

**Acceptance Criteria**:
- Backend deploys successfully to Railway
- All API endpoints respond with valid JSON
- Prisma migrations run without errors
- Sunset phase endpoint returns correct phase for current time
- Business directory returns at least 10 seeded venues

---

## Phase 2: Frontend Router & State Management

**Goal**: Migrate to TanStack Router + Query, create route structure.

**Estimated Time**: 2-3 days

### Tasks

#### 2.1 TanStack Router Setup
- [ ] Install: `@tanstack/react-router`, `@tanstack/router-vite-plugin`
- [ ] Remove `react-router-dom` from package.json
- [ ] Create `/src/routes/` directory with file-based routing:
  ```
  /src/routes/
    __root.tsx         # Root layout (Navbar + Footer)
    index.tsx          # Home (hero + tours)
    gallery.tsx        # Sunset photo gallery
    nightlife.tsx      # Business directory
    business.$slug.tsx # Business detail
    upload.tsx         # Sunset photo upload
    quiz.tsx           # Scorecard quiz
    winners.tsx        # Contest leaderboard
    blog/
      index.tsx        # Blog home
      $slug.tsx        # Blog post detail
  ```
- [ ] Update `main.tsx` to use TanStack Router
- [ ] Test all routes navigate correctly

#### 2.2 TanStack Query Setup
- [ ] Install: `@tanstack/react-query`
- [ ] Wrap app in `QueryClientProvider`
- [ ] Create query keys file: `/src/lib/queryKeys.ts`
- [ ] Create API client: `/src/lib/api.ts` (axios or fetch wrapper)

#### 2.3 Sunset Phase Hook
- [ ] Create `/src/hooks/useSunsetPhase.ts`:
  ```typescript
  export function useSunsetPhase() {
    return useQuery({
      queryKey: ['sunset-phase'],
      queryFn: () => fetch('/api/sunset-phase').then(r => r.json()),
      staleTime: 5 * 60 * 1000, // 5 minutes
      refetchInterval: 5 * 60 * 1000
    });
  }
  ```
- [ ] Test in dev: phase updates correctly based on time

#### 2.4 Business Directory Hooks
- [ ] Create `/src/hooks/useBusinesses.ts`:
  ```typescript
  export function useBusinesses(filters: { type?, luxuryScore?, phase? }) {
    // ...
  }
  ```
- [ ] Create `/src/hooks/useBusiness.ts` (single business by slug)

#### 2.5 Quiz Submission Hook
- [ ] Create `/src/hooks/useQuizSubmission.ts`:
  ```typescript
  export function useQuizSubmission() {
    return useMutation({
      mutationFn: (answers) => post('/api/quiz-submissions', answers)
    });
  }
  ```

**Acceptance Criteria**:
- All routes accessible via TanStack Router
- Sunset phase hook updates every 5 minutes
- Business directory hook fetches from Railway backend
- No console errors or broken links

---

## Phase 3: Living Sunset Hero Engine

**Goal**: Build motion-first hero with day→golden→night transitions.

**Estimated Time**: 2-3 days

### Tasks

#### 3.1 Motion Primitives Installation
- [ ] Install: `framer-motion`, `@motionone/utils`
- [ ] Optional: Install `motion-primitives` npm package or copy components locally

#### 3.2 Hero Component Refactor
- [ ] Create `/src/components/LivingSunsetHero.tsx`
- [ ] Three visual variants:
  - **Day mode**: Bright, ocean blues, beach imagery, CTA "Explore Tours"
  - **Golden mode**: Warm tones, sunset imagery, CTA "Upload Your Sunset", live countdown
  - **Night mode**: Dark palette, neon accents, CTA "Discover Tonight's Hotspots"
- [ ] Use `useSunsetPhase()` hook to determine current mode
- [ ] Framer Motion `AnimatePresence` for smooth phase transitions
- [ ] Parallax background layers (3 layers at different scroll speeds)
- [ ] Animated headline: stagger letters on load (Motion Primitives)

#### 3.3 Dynamic Content
- [ ] Phase-specific headlines:
  - Day: "Your Perfect Vallarta Day Starts Here"
  - Golden: "The Magic Hour is Now. Capture It Forever."
  - Night: "Where Vallarta's Night Comes Alive"
- [ ] Phase-specific CTAs:
  - Day: Button → "Explore Tours" + "Plan Your Day"
  - Golden: Button → "Upload Your Sunset" (gradient, glow effect) + countdown badge
  - Night: Button → "Discover Nightlife" + "Book VIP Tables"

#### 3.4 Background Animation
- [ ] Option A: Video loop (different videos per phase, WebM + MP4 fallbacks)
- [ ] Option B: WebGL shader (Three.js or Spline embed for sunset gradient)
- [ ] Option C: Lottie animation (lightweight, performance-first)
- [ ] Implement `prefers-reduced-motion` fallback (static image)

#### 3.5 Accessibility
- [ ] Add skip-to-content link (visually hidden, keyboard accessible)
- [ ] Ensure focus states are visible (ocean-400 outline, 2px offset)
- [ ] ARIA labels for video/animation elements
- [ ] Test with keyboard navigation only

**Acceptance Criteria**:
- Hero changes appearance based on real sunset time
- Transitions are smooth (no flickering or layout shift)
- Parallax works on scroll without jank
- Hero passes Lighthouse accessibility audit (95+)
- Motion respects `prefers-reduced-motion`

---

## Phase 4: Upload & Gallery System

**Goal**: Implement sunset photo upload, approval queue, public gallery.

**Estimated Time**: 2-3 days

### Tasks

#### 4.1 Upload Page UI
- [ ] Create `/src/routes/upload.tsx`
- [ ] Form fields:
  - Image upload (drag-drop or file picker)
  - Name/handle (text input)
  - Location (dropdown: list of 10-15 neighborhoods/beaches, or free text)
  - Email (required for contest entry)
  - Optional: Caption (textarea)
- [ ] Image preview before submit
- [ ] Validate: max file size 5MB, accept jpg/png/webp only
- [ ] Loading state: show upload progress bar

#### 4.2 Upload API Integration
- [ ] Connect form to `POST /api/sunset-photos`
- [ ] On success: show "Your sunset is in the approval queue!" message
- [ ] Redirect to gallery or back to homepage

#### 4.3 Gallery Page
- [ ] Create `/src/routes/gallery.tsx`
- [ ] Fetch approved photos: `GET /api/sunset-photos?approved=true`
- [ ] Infinite scroll (TanStack Query `useInfiniteQuery`)
- [ ] Masonry grid layout (use `react-masonry-css` or custom CSS grid)
- [ ] Filters: Date range, Location, Contest
- [ ] Each photo card:
  - Image (lazy loaded)
  - Name/handle
  - Location
  - Upload date
  - "Like" button (optional, can defer)

#### 4.4 Winners Page
- [ ] Create `/src/routes/winners.tsx`
- [ ] Fetch contests: `GET /api/contests?isActive=true`
- [ ] For each contest:
  - Show top 3 entries (ranked by `score` or manual `rank`)
  - Display prize description
  - Highlight winner with badge/trophy icon

#### 4.5 Motion Enhancements
- [ ] Gallery cards: stagger fade-in on scroll (Framer Motion)
- [ ] Hover effect: lift + shadow + scale(1.02)
- [ ] Image modal: click photo → full-screen view with smooth transition

**Acceptance Criteria**:
- Users can upload photos successfully
- Gallery loads approved photos only
- Infinite scroll works smoothly
- Winners page displays contest data correctly
- All images are lazy-loaded and optimized

---

## Phase 5: Nightlife Directory

**Goal**: Build business directory with phase-aware sorting and detail pages.

**Estimated Time**: 2-3 days

### Tasks

#### 5.1 Directory Listing Page
- [ ] Create `/src/routes/nightlife.tsx`
- [ ] Fetch businesses: `GET /api/businesses?type=BAR,RESTAURANT,HOTEL`
- [ ] Sort by: `luxuryScore DESC` + phase-relevance boost
- [ ] Filters (UI + query params):
  - Type: All | Rooftop Bars | Restaurants | Hotels | Clubs
  - Price tier: $ | $$ | $$$ | $$$$
  - Sunset timing: Now | Golden Hour | Late Night
- [ ] Each business card (Code UI style):
  - Image
  - Name + type badge
  - Luxury score (5-star visual or 0-100 meter)
  - Best time to visit (relative to sunset)
  - Short description (2-3 lines)
  - CTA: "View Details"

#### 5.2 Business Detail Page
- [ ] Create `/src/routes/business.$slug.tsx`
- [ ] Fetch: `GET /api/businesses/:slug`
- [ ] Layout:
  - Hero image (full width, 400px height)
  - Name + type + luxury score
  - Full description (2-3 paragraphs)
  - Features (expandable JSON-like inspector):
    - Rooftop view: Yes
    - Live music: Fri-Sat 9pm
    - Dress code: Smart casual
    - Reservations: Recommended
  - Map embed (Google Maps iframe or Mapbox)
  - Nearby sunset photo spots (pull from SunsetPhoto table by location)
  - CTAs: "Book Now" (external link), "Get Directions", "Save to Favorites"

#### 5.3 Phase-Aware Recommendations
- [ ] Backend: add phase-relevance scoring logic:
  - Rooftop bars: +20 points during golden hour
  - Clubs: +20 points at night
  - Beach restaurants: +10 points during day
- [ ] Display "Best time to visit" badge on cards
- [ ] Highlight businesses that match current sunset phase

#### 5.4 Motion UI
- [ ] Card hover: lift, shadow, border glow (Motion Primitives)
- [ ] Filter panel: slide-in from left on mobile
- [ ] Detail page: scroll-triggered parallax on hero image
- [ ] Feature inspector: expand/collapse with smooth height transition

**Acceptance Criteria**:
- Directory lists at least 15 businesses
- Sorting by phase-relevance works correctly
- Detail pages load all business data
- All CTAs link to correct external URLs
- UI matches Code UI / Cult-UI aesthetic (not basic cards)

---

## Phase 6: Scorecard Quiz System

**Goal**: Build 15-question quiz with lead capture and dynamic results.

**Estimated Time**: 3-4 days

### Tasks

#### 6.1 Quiz Page Structure
- [ ] Create `/src/routes/quiz.tsx`
- [ ] Multi-step form (React Hook Form + Zod validation)
- [ ] 15 steps total:
  - Step 1: Contact (name, email, phone optional)
  - Steps 2-11: 10 best-practice questions
  - Steps 12-16: 5 "big sales" questions
- [ ] Progress bar at top (shows 1/15, 2/15, etc.)
- [ ] Save progress to localStorage (allow resume)

#### 6.2 Question Components
- [ ] Create reusable question components:
  - `/src/components/quiz/MultipleChoice.tsx`
  - `/src/components/quiz/Slider.tsx`
  - `/src/components/quiz/Dropdown.tsx`
  - `/src/components/quiz/OpenText.tsx`
- [ ] Each component handles its own validation and state

#### 6.3 Quiz Content (Following LANDING-PAGE-BLUEPRINT.md)
- [ ] Implement 10 best-practice questions (see blueprint for examples)
- [ ] Implement 5 big sales questions
- [ ] Use consistent tone: sophisticated, benefit-focused

#### 6.4 Results Page
- [ ] Create `/src/routes/quiz/results.tsx` (or render on same page after submit)
- [ ] Submit answers to `POST /api/quiz-submissions`
- [ ] Backend calculates segment + top 3 recommendations
- [ ] Display:
  - Big reveal: "Your Profile: [Segment Name]"
  - Celebration animation (confetti or Motion Primitives glow)
  - 3 insights (from segment logic)
  - Top 3 recommended businesses (cards with CTA)
  - If B2B lead: additional CTA "Schedule Strategy Call" (Calendly)

#### 6.5 A/B Testing (Variant A vs. B)
- [ ] Create `/src/routes/quiz-a.tsx` (frustration hook)
- [ ] Create `/src/routes/quiz-b.tsx` (result hook)
- [ ] Log each variant in `LandingPageBlueprint` table
- [ ] Track conversions (can use PostHog or simple DB counter)

**Acceptance Criteria**:
- All 15 questions display correctly
- Form validation prevents submission with missing fields
- Progress bar updates accurately
- Results page shows correct segment + recommendations
- LocalStorage resume works (user can close tab and return)
- A/B variants track separately in analytics

---

## Phase 7: Blog Engine & Content Backfill

**Goal**: Integrate Strapi CMS, generate 6-7 months of backdated content.

**Estimated Time**: 3-4 days

### Tasks

#### 7.1 Strapi Setup (Optional: Can use Markdown + Frontmatter for MVP)
- [ ] Deploy Strapi to Railway (separate service)
- [ ] Create "Blog Post" content type:
  - Title (text)
  - Slug (uid)
  - Content (rich text or Markdown)
  - FeaturedImage (media)
  - PublishedAt (date)
  - Category (enum: Sunset Spots, Nightlife, Hotels, Culture)
  - Author (relation to User)
- [ ] Configure API permissions (public read, admin write)

#### 7.2 Blog Listing Page
- [ ] Create `/src/routes/blog/index.tsx`
- [ ] Fetch posts: `GET /api/blog-posts?_sort=publishedAt:DESC`
- [ ] Infinite scroll or pagination
- [ ] Each post card:
  - Featured image
  - Title
  - Excerpt (first 150 chars)
  - Published date
  - Category badge
  - CTA: "Read More"

#### 7.3 Blog Post Detail Page
- [ ] Create `/src/routes/blog/$slug.tsx`
- [ ] Fetch: `GET /api/blog-posts/:slug`
- [ ] Layout:
  - Hero image
  - Title + author + date
  - Content (render Markdown with `react-markdown`)
  - Table of contents (auto-generated from h2/h3 tags)
  - Reading progress bar (fixed at top)
  - Related posts footer (3 posts from same category)

#### 7.4 Content Generation (6-7 Months Backfill)
- [ ] Create 6-7 high-quality posts, backdated one per month
- [ ] Topics (aligned with PRD.md):
  - "Top 5 Sunset Viewing Spots Only Locals Know"
  - "The Ultimate Rooftop Bar Guide for Golden Hour"
  - "How to Capture the Perfect Vallarta Sunset Photo"
  - "Luxury Hotels with Unbeatable Sunset Views"
  - "Nightlife After Dark: Where the City Glows"
  - "Eco-Tourism: Sunset Kayaking & Marine Life"
  - "Cultural Experiences: Rhythms of the Night Review"
- [ ] Each post: 800-1200 words, 3-5 images from Unsplash, SEO-optimized
- [ ] Publish dates: June 2025 → Dec 2025 (backdated)

#### 7.5 Motion UI for Blog
- [ ] Post cards: scroll-reveal animation (stagger)
- [ ] Reading progress bar: smooth fill as user scrolls
- [ ] Image zoom on click (lightbox with Framer Motion)

**Acceptance Criteria**:
- Blog listing loads all posts in reverse chronological order
- Post detail pages render Markdown correctly
- All 6-7 posts are published with realistic dates
- SEO meta tags present (title, description, og:image)
- Reading experience is smooth and visually engaging

---

## Phase 8: Testing & Deployment

**Goal**: Playwright tests, Lighthouse audits, Docker, Railway + Vercel deploy.

**Estimated Time**: 2-3 days

### Tasks

#### 8.1 Playwright Setup
- [ ] Install: `@playwright/test`
- [ ] Create `/tests/` directory
- [ ] Write tests for:
  - Homepage loads, hero displays correct phase
  - Upload flow (form submission, success message)
  - Gallery loads photos
  - Quiz flow (all 15 steps, results page)
  - Nightlife directory (listing + detail page)
  - Blog listing + detail
- [ ] Run tests: `npx playwright test`

#### 8.2 Lighthouse Audits
- [ ] Install: `@lhci/cli`
- [ ] Create `lighthouserc.json` config
- [ ] Run audits on:
  - Homepage (/)
  - Gallery (/gallery)
  - Nightlife (/nightlife)
  - Quiz (/quiz)
  - Blog post (/blog/top-sunset-spots)
- [ ] Target scores:
  - Performance: 90+
  - Accessibility: 95+
  - Best Practices: 95+
  - SEO: 90+
- [ ] Fix any issues that drop scores below targets

#### 8.3 Docker Multi-Stage Build
- [ ] Create `Dockerfile` for frontend:
  ```dockerfile
  # Stage 1: Build
  FROM node:20-alpine AS builder
  WORKDIR /app
  COPY package*.json ./
  RUN npm ci
  COPY . .
  RUN npm run build
  
  # Stage 2: Runtime
  FROM nginx:alpine
  COPY --from=builder /app/dist /usr/share/nginx/html
  COPY nginx.conf /etc/nginx/conf.d/default.conf
  EXPOSE 80
  CMD ["nginx", "-g", "daemon off;"]
  ```
- [ ] Create `Dockerfile` for backend (already exists in `/backend`)
- [ ] Add `.dockerignore` (exclude `node_modules`, `.git`, etc.)

#### 8.4 Railway Deployment (Final)
- [ ] Backend: already deployed in Phase 1
- [ ] Frontend option A: Deploy static build to Railway (simple HTTP server)
- [ ] Frontend option B: Deploy to Vercel (faster CDN)
- [ ] Connect custom domain (if available)
- [ ] Set up environment variables (all secrets in Railway dashboard)
- [ ] Test production URLs

#### 8.5 Vercel Deployment (Alternative/Supplement)
- [ ] Connect repo to Vercel
- [ ] Configure build settings:
  - Build command: `npm run build`
  - Output directory: `dist`
  - Framework: Vite
- [ ] Set environment variables (Railway backend URL)
- [ ] Deploy and test

#### 8.6 CI/CD (Optional for MVP, Recommended for v1.1)
- [ ] Create `.github/workflows/test.yml`:
  - Run Playwright tests on every PR
  - Run Lighthouse audits
  - Block merge if tests fail or scores drop below thresholds
- [ ] Auto-deploy to Railway on main branch push

**Acceptance Criteria**:
- All Playwright tests pass
- Lighthouse scores meet targets (90+ perf, 95+ a11y)
- Docker builds successfully (no errors)
- Production site is live and functional
- No broken links or console errors in production

---

## Phase 9: JCP Sign-Off & Documentation

**Goal**: Complete Job Completion Protocol, finalize documentation.

**Estimated Time**: 1 day

### Tasks

#### 9.1 JCP Feature Completion
- [ ] Review `_JCP/features.json`
- [ ] Verify all features are `status: "completed"` and `tested: true`
- [ ] Update `_JCP/progress.md` with final stats

#### 9.2 Create STRUCTURE_MAP.json
- [ ] Document all components, pages, routes, tokens, dependencies
- [ ] Include component usage graph (which pages use which components)

#### 9.3 Create SELF_AUDIT_REPORT.json
- [ ] Log all Playwright test results
- [ ] Log all Lighthouse audit scores
- [ ] Log number of self-check cycles (goal: ≤3)

#### 9.4 Update README.md
- [ ] Add project description (Living Sunset Engine)
- [ ] Add Railway deploy button
- [ ] Add Vercel deploy button
- [ ] Add local setup instructions
- [ ] Add environment variable guide
- [ ] Add feature list with screenshots

#### 9.5 Create UPGRADE_NOTES.md
- [ ] Document what changed from original Lovable template
- [ ] Highlight new features (sunset engine, quiz, directory, upload)
- [ ] Note any breaking changes (react-router → TanStack Router)

**Acceptance Criteria**:
- All JCP features marked complete
- README is clear and comprehensive
- STRUCTURE_MAP.json is accurate
- SELF_AUDIT_REPORT.json shows passing tests and scores

---

## Phase 10: Launch & Monitor

**Goal**: Launch to production, set up monitoring, hand off to client.

**Estimated Time**: 1 day

### Tasks

#### 10.1 Production Launch
- [ ] Final smoke test on production URLs
- [ ] Verify all API endpoints work
- [ ] Verify email delivery (quiz results, contest notifications)
- [ ] Test on mobile devices (iOS + Android)

#### 10.2 Monitoring Setup
- [ ] Set up uptime monitoring (UptimeRobot or Railway built-in)
- [ ] Set up error tracking (Sentry or LogRocket)
- [ ] Set up analytics (PostHog or Plausible)
- [ ] Create admin dashboard (or document how to access Railway logs)

#### 10.3 Handoff Documentation
- [ ] Create "Admin Guide" (how to approve sunset photos, manage contests)
- [ ] Create "Content Guide" (how to add blog posts via Strapi)
- [ ] Create "Business Guide" (how to add/edit directory listings)
- [ ] Record Loom video walkthrough (5-10 minutes)

#### 10.4 Final Checklist
- [ ] All secrets are secure (not in repo)
- [ ] Backup database (Railway auto-backups enabled)
- [ ] Domain DNS configured correctly
- [ ] SSL certificates active
- [ ] GDPR/privacy policy page added (if required)

**Acceptance Criteria**:
- Site is live and publicly accessible
- Monitoring alerts are set up
- Client has admin access and documentation
- All handoff materials are complete

---

## Success Criteria (Overall)

### Technical
- ✅ All 10 phases completed
- ✅ Zero P0 bugs in production
- ✅ Lighthouse scores: Performance 90+, A11y 95+, Best Practices 95+, SEO 90+
- ✅ Playwright tests: 100% pass rate
- ✅ Uptime: 99%+ in first month

### User Experience
- ✅ Hero transitions smoothly based on real sunset time
- ✅ Users can upload sunset photos successfully
- ✅ Quiz completion rate: 70%+ (industry standard: 40-60%)
- ✅ Directory listings load in <1s
- ✅ Mobile experience is smooth and touch-optimized

### Business Model
- ✅ At least 50 businesses in directory
- ✅ At least 100 sunset photo submissions in first month
- ✅ At least 200 quiz completions in first month
- ✅ At least 10 B2B leads captured (self-identified hotel owners)

### Code Quality
- ✅ TypeScript strict mode enabled
- ✅ ESLint passes with zero errors
- ✅ Prettier formatting consistent
- ✅ No unused dependencies
- ✅ Bundle size optimized (<500KB initial load)

---

## Rollback Plan (If Things Go Wrong)

### If Phase 1-2 fails (Backend/Router issues)
- **Fallback**: Keep existing Python backend for MVP, use simple fetch calls instead of TanStack Query
- **Timeline**: Saves 2-3 days but reduces type safety

### If Phase 3 fails (Living Sunset Hero)
- **Fallback**: Static hero with 3 manual variants (user manually selects day/evening/night mode via dropdown)
- **Timeline**: Saves 1-2 days but loses "living" concept

### If Phase 4-5 fails (Upload/Directory)
- **Fallback**: Use existing hardcoded tour data, remove upload feature for MVP
- **Timeline**: Saves 3-4 days but loses gamification and UGC

### If Phase 6 fails (Quiz)
- **Fallback**: Simple contact form with 3-5 questions instead of 15
- **Timeline**: Saves 2-3 days but loses lead qualification

### If Lighthouse scores fail
- **Action**: Prioritize quick wins (image optimization, lazy loading, remove unused CSS)
- **Timeline**: 1 extra day for optimization sprint

---

## Notes for Future Agents

- Always check `_JCP/recovery.md` if context is lost mid-phase
- Refer to `AgentMD/PRD.md` for feature requirements
- Refer to `AgentMD/design_audit.yaml` for UX guidance
- Refer to `AgentMD/LANDING-PAGE-BLUEPRINT.md` for quiz structure
- All phases are scoped to single-developer + AI assistance
- BMAD discipline: No code before architecture, no architecture before audit

---

**End of Workflow**

**Current Status**: Phase 0 complete. Awaiting human approval to proceed to Phase 1.
